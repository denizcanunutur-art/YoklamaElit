<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Elit Eğitim Kurumu Yoklama Sistemi</title>
<style>
  :root {
    --green: #2ecc71;
    --red: #e74c3c;
    --blue: #2d6cdf;
    --light: #f7f9fb;
  }
  body {
    font-family: 'Segoe UI', sans-serif;
    background: url('background.jpg') no-repeat center center fixed;
    background-size: cover;
    margin: 0;
    padding: 0;
    color: #333;
  }
  .container {
    max-width: 500px;
    margin: 80px auto;
    background: rgba(255,255,255,0.9);
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(0,0,0,0.3);
    text-align: center;
  }
  h1 { color: var(--blue); margin-bottom: 20px; }
  button {
    padding: 12px 20px;
    font-size: 17px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    margin: 10px;
  }
  .teacher-btn { background: var(--blue); color: #fff; }
  .parent-btn { background: var(--green); color: #fff; }
  .hidden { display: none; }
  select, input {
    padding: 10px;
    margin: 10px;
    font-size: 16px;
    border-radius: 6px;
    border: 1px solid #ccc;
  }
  .student-list { text-align: left; margin-top: 20px; }
  .student-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
    padding: 8px;
    background: #f9f9f9;
    border-radius: 6px;
  }
  .save-btn { background: var(--green); color: white; width: 100%; margin-top: 15px; }
  .status-derste { color: var(--green); font-weight: 600; }
  .status-etutte { color: var(--green); font-weight: 600; }
  .status-yok { color: var(--red); font-weight: 600; }
  .logout { background: var(--red); color: white; width: 100%; margin-top: 20px; }
</style>
</head>
<body>

<div class="container" id="login-screen">
  <h1>Elit Eğitim Kurumu</h1>
  <p>Yoklama Sistemine Giriş Yapın</p>
  <button class="teacher-btn" onclick="login('teacher')">👩‍🏫 Öğretmen Girişi</button>
  <button class="parent-btn" onclick="login('parent')">👨‍👩‍👧‍👦 Veli Girişi</button>
</div>

<!-- Öğretmen Paneli -->
<div class="container hidden" id="teacher-panel">
  <h2>Öğretmen Paneli</h2>
  <label>Tür Seç:</label>
  <select id="activity-type">
    <option value="ders">Ders</option>
    <option value="etüt">Etüt</option>
  </select>

  <div class="student-list" id="teacher-students"></div>
  <button class="save-btn" onclick="saveAttendance()">Yoklamayı Kaydet</button>
  <button class="logout" onclick="logout()">Çıkış</button>
</div>

<!-- Veli Paneli -->
<div class="container hidden" id="parent-panel">
  <h2>Veli Paneli</h2>
  <p>Öğrencilerin Güncel Durumu:</p>
  <div class="student-list" id="parent-students"></div>
  <button class="logout" onclick="logout()">Çıkış</button>
</div>

<script>
const students = [
  "İrem Korkmaz",
  "Fatma Özdemir",
  "Semih Kodaz",
  "Anıl Boşnak",
  "Emin Dede"
];

function login(role) {
  document.getElementById('login-screen').classList.add('hidden');
  if (role === 'teacher') {
    document.getElementById('teacher-panel').classList.remove('hidden');
    renderTeacherList();
  } else {
    document.getElementById('parent-panel').classList.remove('hidden');
    renderParentList();
  }
}

function logout() {
  document.getElementById('teacher-panel').classList.add('hidden');
  document.getElementById('parent-panel').classList.add('hidden');
  document.getElementById('login-screen').classList.remove('hidden');
}

function renderTeacherList() {
  const container = document.getElementById('teacher-students');
  container.innerHTML = '';
  students.forEach(name => {
    const div = document.createElement('div');
    div.className = 'student-item';
    div.innerHTML = `
      <span>${name}</span>
      <select id="status-${name}">
        <option value="yok">Yok</option>
        <option value="derste">Derste</option>
        <option value="etütte">Etütte</option>
      </select>`;
    container.appendChild(div);
  });
}

function saveAttendance() {
  const type = document.getElementById('activity-type').value;
  const today = new Date().toLocaleDateString('tr-TR');
  const data = students.map(name => ({
    ad: name,
    durum: document.getElementById(`status-${name}`).value,
    tur: type,
    tarih: today
  }));
  localStorage.setItem('yoklama', JSON.stringify(data));
  alert('Yoklama kaydedildi!');
}

function renderParentList() {
  const container = document.getElementById('parent-students');
  container.innerHTML = '';
  const data = JSON.parse(localStorage.getItem('yoklama')) || [];
  if (data.length === 0) {
    container.innerHTML = "<p>Henüz yoklama kaydı yok.</p>";
    return;
  }
  data.forEach(item => {
    const div = document.createElement('div');
    div.className = 'student-item';
    let statusClass = '';
    let statusText = '';
    if (item.durum === 'derste') {
      statusClass = 'status-derste';
      statusText = 'Derste ✅';
    } else if (item.durum === 'etütte') {
      statusClass = 'status-etutte';
      statusText = 'Etütte ✅';
    } else {
      statusClass = 'status-yok';
      statusText = 'Kurumda Yok ❌';
    }
    div.innerHTML = `<span>${item.ad}</span><span class="${statusClass}">${statusText}</span>`;
    container.appendChild(div);
  });
}
</script>
</body>
</html>
