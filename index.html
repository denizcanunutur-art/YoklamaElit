<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Elit EÄŸitim Kurumu - Yoklama Sistemi</title>
<style>
:root{--red:#e74c3c;--blue:#2d6cdf;--green:#25d366;--muted:#f7f7f7;--gray:#bdbdbd;}
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:"Montserrat",Arial,sans-serif;
  background:url('IMG_4035.JPG') center/cover no-repeat;
  color:#222;
  min-height:100vh;
}
header{display:none;}
.container{
  width:100%;
  max-width:500px;
  background:rgba(255,255,255,0.95);
  margin:auto;
  margin-top:50px;
  padding:30px;
  border-radius:12px;
  text-align:center;
  box-shadow:0 6px 20px rgba(0,0,0,0.1);
}
.logo{width:100px;height:100px;margin-bottom:12px;}
h1{margin-bottom:10px;}
button{padding:10px 20px;margin:6px;border:none;border-radius:8px;font-weight:700;cursor:pointer;background:var(--blue);color:#fff;transition:0.3s;}
button:hover{background:#1f4fbf;}
input{width:80%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #ccc;}
.hidden{display:none;}
.table-wrap{max-height:400px;overflow-y:auto;margin-top:12px;border-radius:6px;border:1px solid #e6e6e6;background:#fff;}
table{width:100%;border-collapse:collapse;}
thead th{position:sticky;top:0;background:var(--muted);padding:10px;text-align:left;border-bottom:1px solid #e6e6e6;font-weight:700;}
tbody td{padding:10px;border-bottom:1px solid #f0f0f0;}
tbody tr:hover{background:rgba(0,0,0,0.03);}
.status-light{display:inline-block;width:14px;height:14px;border-radius:50%;}
.var{background:var(--green);}
.yok{background:var(--red);}
</style>
</head>
<body>

<!-- GiriÅŸ Paneli -->
<div id="loginPanel" class="container">
  <img src="logo.png" alt="Elit Logo" class="logo">
  <h1>Elit EÄŸitim Yoklama</h1>
  <p>GiriÅŸ Tipinizi SeÃ§in:</p>
  <button onclick="showTeacherLogin()">Ã–ÄŸretmen GiriÅŸi</button>
  <button onclick="veliGiris()">Veli GiriÅŸi</button>

  <div id="teacherLogin" class="hidden">
    <input type="password" id="teacherPass" placeholder="Åžifre">
    <br>
    <button onclick="teacherAuth()">GiriÅŸ Yap</button>
  </div>
</div>

<!-- Ã–ÄŸretmen Paneli -->
<div id="teacherPanel" class="hidden">
  <header>
    <h1><span>Elit</span> EÄŸitim Kurumu</h1>
    <h2>Yoklama Alma Sistemi</h2>
  </header>
  <main style="padding:18px;">
    <section class="panel">
      <h3>EtÃ¼t Yoklama Listesi</h3>
      <div class="table-wrap">
        <table id="studentsTable">
          <thead><tr><th>Ä°sim</th><th>SÄ±nÄ±f</th><th>Durum</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section class="panel" style="margin-top:12px;">
      <h3 style="display:flex;justify-content:space-between;align-items:center">
        EtÃ¼tte Olmayanlar
        <button id="btnNotify">Kurumu Bilgilendir</button>
      </h3>
      <div class="table-wrap">
        <table id="absentTable">
          <thead><tr><th>Ä°sim</th><th>SÄ±nÄ±f</th><th>WhatsApp</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>
</div>

<!-- Veli Paneli -->
<div id="veliPanel" class="container hidden">
  <h1>ðŸŽ“ Ã–ÄŸrenci DurumlarÄ±</h1>
  <input type="text" id="veliSearch" placeholder="Ã–ÄŸrenci ara..." onkeyup="searchVeli()">
  <div class="table-wrap">
    <table id="veliTable">
      <thead><tr><th>Ad Soyad</th><th>Durum</th></tr></thead>
      <tbody id="veliBody"></tbody>
    </table>
  </div>
  <button onclick="logout()">Ã‡Ä±kÄ±ÅŸ</button>
</div>

<script type="module">
// Ã–ÄŸrenci verisi
let students=[
  {name:"Ä°rem Korkmaz",class:"11Say",phone:"+905441234567"},
  {name:"Semih Kodaz",class:"11Say",phone:"+905441234568"},
  {name:"Fatma Ã–zdemir",class:"11Say",phone:"+905441234569"},
  {name:"Emin Dede",class:"11Say",phone:"+905441234570"}
];
let statuses={};

function showTeacherLogin(){document.getElementById("teacherLogin").classList.remove("hidden");}
function teacherAuth(){
  if(document.getElementById("teacherPass").value==="elit"){
    document.getElementById("loginPanel").classList.add("hidden");
    document.getElementById("teacherPanel").classList.remove("hidden");
    renderStudentsTable();
  }else{alert("YanlÄ±ÅŸ ÅŸifre!");}
}

function renderStudentsTable(){
  const tbody=document.querySelector("#studentsTable tbody");
  tbody.innerHTML="";
  students.forEach(s=>{
    const tr=document.createElement("tr");
    const tdName=document.createElement("td"); tdName.textContent=s.name;
    const tdClass=document.createElement("td"); tdClass.textContent=s.class;
    const tdStatus=document.createElement("td");
    tdStatus.style.textAlign="center";
    const st=statuses[s.name]||"";
    tdStatus.textContent=st?st==="absent"?"Yok":"Var":"-";
    tdStatus.style.cursor="pointer";
    tdStatus.addEventListener("click",()=>toggleStatus(s.name));
    tr.appendChild(tdName); tr.appendChild(tdClass); tr.appendChild(tdStatus);
    tbody.appendChild(tr);
  });
  renderAbsentTable();
}

function toggleStatus(name){
  const cur=statuses[name];
  if(!cur) statuses[name]="absent";
  else if(cur==="absent") statuses[name]="present";
  else delete statuses[name];
  renderStudentsTable();
}

function renderAbsentTable(){
  const tbody=document.querySelector("#absentTable tbody");
  tbody.innerHTML="";
  students.filter(s=>statuses[s.name]==="absent").forEach(s=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`<td>${s.name}</td><td>${s.class}</td><td style="text-align:center"><button onclick="alert('WP mesajÄ± gÃ¶nderildi')" style="padding:5px 10px;">GÃ¶nder</button></td>`;
    tbody.appendChild(tr);
  });
}

document.getElementById("btnNotify")?.addEventListener("click",()=>{
  const absents=students.filter(s=>statuses[s.name]==="absent").map(s=>s.name);
  alert(absents.length? "EtÃ¼tte olmayanlar:\n"+absents.join(", "):"TÃ¼m Ã¶ÄŸrenciler var âœ…");
});

function veliGiris(){
  document.getElementById("loginPanel").classList.add("hidden");
  document.getElementById("veliPanel").classList.remove("hidden");
  renderVeliTable();
}

function renderVeliTable(){
  const tbody=document.getElementById("veliBody");
  tbody.innerHTML="";
  students.forEach(s=>{
    const lightClass=statuses[s.name]==="present"?"var":statuses[s.name]==="absent"?"yok":"";
    const tr=document.createElement("tr");
    tr.innerHTML=`<td>${s.name}</td><td>${lightClass?'<span class="status-light '+lightClass+'"></span>':'-'}</td>`;
    tbody.appendChild(tr);
  });
}

function searchVeli(){
  const q=document.getElementById("veliSearch").value.toLowerCase();
  document.querySelectorAll("#veliBody tr").forEach(r=>{
    const name=r.cells[0].innerText.toLowerCase();
    r.style.display=name.includes(q)? "":"none";
  });
}

function logout(){
  document.getElementById("teacherPanel").classList.add("hidden");
  document.getElementById("veliPanel").classList.add("hidden");
  document.getElementById("loginPanel").classList.remove("hidden");
}
</script>

</body>
</html>
